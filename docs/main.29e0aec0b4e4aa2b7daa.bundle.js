webpackJsonp([1],{"/kYw":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".side-nav-item.active a,.side-nav-item.active a:focus,.side-nav-item.active a:hover,.side-nav-item a{color:#000}.side-nav-item.active,.side-nav-item.active:focus,.side-nav-item.active a,.side-nav-item.active a:focus{background-color:rgba(44,102,150,.75);color:#fff}a{background:#fff}.side-nav .side-nav-item-heading>a{color:#000;background-color:#fff;border-color:#000}.side-nav-child{background-color:#fff}.nav-item-caret{font-weight:700}",""]),t.exports=t.exports.toString()},0:function(t,e,n){t.exports=n("cDNt")},"4SuF":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".alert{width:100%;margin-top:3em}.row [class*=col-]:first-child>.form-control{margin-left:0}",""]),t.exports=t.exports.toString()},"8iqK":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".red{background:red}.app-tabs{padding:0}.app-tabs li{width:50%;height:100%}.nav-tabs li a{color:#000}.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus{background:rgba(44,102,150,.75);color:#f8f8ff}.nav-tabs>li.active>a:focus:hover,.nav-tabs>li.active>a:hover{background:rgba(38,86,126,.75);color:#f8f8ff}.nav-tabs a{padding:0;width:100%;height:100%;line-height:56px;text-align:center;border-radius:0;font-weight:700;font-size:1.2em;font-family:Helvetica}.app-record-header{margin-bottom:2em;padding-bottom:2px;border-bottom:1px solid #000}.pull-right i{font-size:20px}a .ion-android-remove-circle{color:#b73333}a .ion-android-remove-circle:hover{color:#7c2323}.bx-shadow{box-shadow:0 2px 4px rgba(0,0,0,.15)}.np-form-status-notok{color:red}.np-form-status-ok{color:green}.np-scrollable{height:15em;width:100%;overflow-y:scroll;border:1px solid #000}.table>tfoot>tr>td{border-top:none}tfoot td~td{border-left:1px solid #e5e5e5}tfoot td:focus{border-bottom:2px solid blue}[contentEditable=true]:empty:not(:focus):before{content:attr(data-text)}[contentEditable=true]:before{color:gray}#addButton i{cursor:pointer}.error-field{border-bottom:3px solid red}",""]),t.exports=t.exports.toString()},CZ7F:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},OtY7:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".bx-shadow{box-shadow:0 2px 4px rgba(0,0,0,.15)}.app-header{height:56px;margin-bottom:1em;position:-webkit-sticky;position:sticky;top:0}.row{margin-bottom:10px}.app-stats-header h3{margin-top:6px}hr{color:#333;margin-top:10px;margin-bottom:5px}mat-card{height:15em}mat-card.detailed{height:100%;width:100%;z-index:99}mat-card-content.np-non-detailed{position:absolute;bottom:3em}.np-monthly-stats{margin-bottom:1em}.col-md-1~button{margin-left:1%}.btn.col-md-1{color:#f5f5f5;width:7.333%}.np-month-buttons{height:100%}.np-btn-month:first-child{background:#8cb5d1}.np-btn-month:nth-child(2){background:#a6a39e}.np-btn-month:nth-child(3){background:#f08386}.np-btn-month:nth-child(4){background:#66ccb7}.np-btn-month:nth-child(5){background:#f1c073}.np-btn-month:nth-child(6){background:#4ec09f}.np-btn-month:nth-child(7){background:#8cb5d1}.np-btn-month:nth-child(8){background:#ed8175}.np-btn-month:nth-child(9){background:#80696f}.np-btn-month:nth-child(10){background:#d1d86f}.np-btn-month:nth-child(11){background:#614840}.np-btn-month:nth-child(12){background:#a76294}table,th{text-align:center}",""]),t.exports=t.exports.toString()},PWEl:function(t,e){t.exports='\x3c!-- confirmation modal --\x3e\r\n<np-modal [(visible)]="showDialog" [options]="modalOpts" (confirmed)="isConfirmed($event)"></np-modal>\r\n\x3c!-- table of records --\x3e\r\n<np-grid [np-grid]="npGridConfig" [data]="data" (action)="onGridAction($event)"></np-grid>\r\n'},WvMM:function(t,e){t.exports='<div [@dialog] *ngIf="visible" class="dialog">\r\n  <div>{{ options.body }}</div>\r\n  <div class="np-button-group">\r\n    <button class="btn btn-success" (click)="confirmee(true);close()">Confirm</button>\r\n    <button class="btn btn-danger" (click)="confirmee(false);close()">Cancel</button>\r\n  </div>\r\n</div>\r\n<div *ngIf="visible" class="overlay" (click)="close()"></div>'},YY2f:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".red{background:red}.app-header{padding:0}.app-header select{margin-top:13px;width:100%;height:30px;border-radius:5px;font-weight:700;padding-left:1em}div.row{-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:5em}.bx-shadow{box-shadow:0 2px 4px rgba(0,0,0,.15)}.np-receipts{margin-bottom:1em;transition:all 1s ease-in-out}.np-close-button{position:absolute;left:89%;top:5px;padding:.1px 4.5px;color:#fff;font-weight:700;z-index:98}.np-recent-btn-holder.col-md-1{width:10%;height:56px}.col-md-1{width:8%}.np-recent-btn{margin-top:10px;margin-left:.33333%}.np-recent-btn.active,.np-recent-btn.active:focus{background:rgba(44,102,150,.75);color:#fff}mat-card{height:20em;overflow:auto;padding-top:1em}mat-card-header{display:block}mat-card-title{color:#2c3e50;font-weight:700}",""]),t.exports=t.exports.toString()},YuZA:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="YuZA"},ag2n:function(t,e){t.exports='\x3c!-- confirmation modal --\x3e\r\n<np-modal [(visible)]="showDialog" [options]="modalOpts" (confirmed)="isConfirmed($event)">\r\n</np-modal>\r\n\r\n<div class="app-header">\r\n  <div class="np-recent-btn-holder col-md-1">\r\n    <select name="np-recent-years" (change)="changeYear(yearDropdown)" #yearDropdown>\r\n      <option [selected]="year === selectedYear" *ngFor="let year of yearOptions">{{ year }}</option>\r\n    </select>\r\n  </div>\r\n  <div class="np-recent-btn-holder col-md-10">\r\n    <button *ngFor="let month of monthStrings" class="np-recent-btn col-md-1 btn btn-default" \r\n      [ngClass]="{\r\n        active: month === selectedMonth\r\n      }"\r\n      (click)="changeMonth(month)">\r\n      {{ month }}\r\n    </button>\r\n  </div>\r\n</div>\r\n<div class="np-recent-container">\r\n  <div class="row">\r\n    <div class="col-md-12">\r\n      <div class="col-md-4 np-receipts" *ngFor="let transac of displayedTransacs">\r\n        <span class="btn btn-danger np-close-button" (click)="showModal(true, [], transac.transactionId)">X</span>\r\n        <mat-card>\r\n          <mat-card-header>\r\n            <mat-card-title>MY BUSINESS</mat-card-title>\r\n            <mat-card-title>{{ transac.date }}</mat-card-title>\r\n            <mat-card-subtitle *ngIf="transac.transactionType==1">Sale</mat-card-subtitle>\r\n            <mat-card-subtitle *ngIf="transac.transactionType==2">Purchase</mat-card-subtitle>\r\n          </mat-card-header>\r\n          <mat-card-content>\r\n            <table class="table">\r\n              <thead>\r\n                <th>qty</th>\r\n                <th>item</th>\r\n                <th>price</th>\r\n                <th>total</th>\r\n              </thead>\r\n              <tr *ngFor="let item of transac.items">\r\n                <td>{{ item.quantity }}x</td>\r\n                <td class="np-card-itemName">{{ item.itemName }}</td>\r\n                <td *ngIf="transac.transactionType==2" class="np-purchase-card">{{ item.purchaseCost }}</td>\r\n                <td *ngIf="transac.transactionType==1" class="np-sale-card">{{ item.sellingPrice }}</td>\r\n                <td *ngIf="transac.transactionType==2" class="np-purchase-card">{{ item.purchaseCost * item.quantity }}</td>\r\n                <td *ngIf="transac.transactionType==1" class="np-sale-card">{{ item.sellingPrice * item.quantity }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <b>Total:</b>\r\n                </td>\r\n                <td></td>\r\n                <td></td>\r\n                <td>\r\n                  <b>{{ transac.total }}</b>\r\n                </td>\r\n              </tr>\r\n            </table>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},bvbG:function(t,e){t.exports='<div class="col-md-9 col-md-push-1">\r\n  <table class="table table-hover" name="record-items">\r\n    <thead>\r\n      <tr>\r\n        <th class="col-md-4">Name</th>\r\n        <th class="col-md-2">Buying Price</th>\r\n        <th class="col-md-2">Selling Price</th>\r\n        <th class="col-md-1">Qty</th>\r\n        <th class="col-md-2">Unit</th>\r\n      </tr>\r\n      <tr [ngClass]="{\r\n        \'np-form-status-ok\':formStatus.OK,\r\n        \'np-form-status-notok\':!formStatus.OK}">\r\n        {{ formStatus.text }}\r\n      </tr>\r\n      <tr>\r\n        <td contenteditable="true" data-text="Item" (input)="clearError(item)"(keydown.enter)="clickAddButton()" #item></td>\r\n        <td contenteditable="true" data-text="Purchase Cost" (input)="clearError(pcost);isNumber(pcost)" (keydown.enter)="clickAddButton()" #pcost></td>\r\n        <td contenteditable="true" data-text="Selling Price" (input)="clearError(sprice);isNumber(sprice)" (keydown.enter)="clickAddButton()" #sprice></td>\r\n        <td contenteditable="true" data-text="Qty" (input)="clearError();isNumber(qty)" (keydown.enter)="clickAddButton()" #qty></td>\r\n        <td contenteditable="true" data-text="Unit" (input)="clearError();checkIfHasNumber(unit)" (keydown.enter)="clickAddButton()" #unit></td>\r\n        <td id="addButton">\r\n          <a id="addisiaButton" class="pull-right" (click)="addItem()">\r\n            <i class="icon ion-android-add-circle"></i>\r\n          </a>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td></td>\r\n        <td></td>\r\n        <td></td>\r\n        <td></td>\r\n        <td colspan="5">\r\n          <button class="btn btn-success pull-right" (click)="postItems()">\r\n            Add\r\n            <span>{{ getNumberOfItems() }} items</span>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor="let item of itemsForRecord let i=index">\r\n        <td>{{ item.itemName }}</td>\r\n        <td>{{ item.purchaseCost }}</td>\r\n        <td>{{ item.sellingPrice }}</td>\r\n        <td>{{ item.quantity }}</td>\r\n        <td>{{ item.unit }}</td>\r\n        <td>\r\n          <a class="pull-right" (click)="removeItem(i)">\r\n            <i class="icon ion-android-remove-circle"></i>\r\n          </a>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n    <tfoot>\r\n\r\n    </tfoot>\r\n  </table>\r\n</div>'},cDNt:function(t,e,n){"use strict";function r(t,e){switch(void 0===t&&(t=Dt),e.type){case w:return Object(Tt.tassign)(t,{stockItems:e.items});case k:return Object(Tt.tassign)(t,{stockItems:e.items.slice().concat(t.stockItems)});case C:for(var n=t.stockItems.slice(),r=0;r<e.items.length;r++)for(var a=e.items[r],i=0;i<n.length;i++){c=n[i];a.itemId===c.itemId&&(n[i]=a)}return Object(Tt.tassign)(t,{stockItems:n});case P:for(var s=t.stockItems.slice(),r=0;r<e.itemIds.length;r++)for(var o=e.itemIds[r],i=0;i<s.length;i++){var c;o===(c=s[i]).itemId&&s.splice(i,1)}return Object(Tt.tassign)(t,{stockItems:s});case S:var l={transactionId:e.data.transactionId,items:e.data.items,transactionType:e.data.transactionType,date:e.data.date},d=jQuery.extend(!0,{},t.transactions),p=e.data.date;void 0===d[p]?(l.transactionId=0,d[p]=[l]):(l.transactionId=d[p].length,d[p].push(l));for(var u=t.stockItems.slice(),h=function(t){var n=e.data.items[t];u.filter(function(t,e){t.itemId===n.itemId&&(t.quantity-=n.quantity)})},r=0;r<e.data.items.length;r++)h(r);return Object(Tt.tassign)(t,{stockItems:u,transactions:d});case R:for(var m=jQuery.extend(!0,{},t.transactions),f=Object.keys(m),r=0;r<f.length;r++)for(var g=m[f[r]],i=0;i<g.length;i++)-1!==e.transactionIds.indexOf(g[i].transactionId)&&g.splice(i,1),g.length<1&&delete m[f[r]];return Object(Tt.tassign)(t,{transactions:m});case O:return Dt;default:return t}}Object.defineProperty(e,"__esModule",{value:!0});var a,i=n("x8Hs"),s=n("LMZF"),o=n("RyBE"),c=n("0nO6"),l=n("TMwh"),d=n("U6yM"),p=n("riZV"),u=function(){return function(){}}(),h=function(){return function(){}}(),m=n("56Rf"),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},b=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(t){function e(e,n,r){var a=t.call(this,e,n)||this;return a.toastyService=r,a}return f(e,t),e.prototype.request=function(e,n){var r=this;return t.prototype.request.call(this,e,n).pipe(Object(p.catchError)(function(t,e){return r.handleError(t)}))},e.prototype.handleError=function(t){if(t.error instanceof ErrorEvent){return this.addToast("error","ERROR","There seems to be an error, please restart the app",1e5),d.a.throw(new u)}return this.addToast("error","ERROR","Please restart the app. If this error persists, please contact Eric",1e4),d.a.throw(new h)},e.prototype.addToast=function(t,e,n,r){void 0===r&&(r=3e3);var a,i={title:"",onAdd:function(t){a=t.id}};switch(i.title=e,i.msg=n,i.timeout=r,i.theme="bootstrap",t){case"wait":this.toastyService.wait(i);break;case"info":this.toastyService.info(i);break;case"success":this.toastyService.success(i);break;case"warning":this.toastyService.warning(i);break;case"error":this.toastyService.error(i);break;default:this.toastyService.default(i)}return a},e=g([Object(s.Injectable)(),b("design:paramtypes",[l.d,l.c,m.c])],e)}(l.a),v=n("AP4T"),I=[{itemId:0,itemName:"Adapter",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:1,itemName:"Artist brush",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:2,itemName:"Barbed wire 480m",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:"sururu"},{itemId:3,itemName:"Brush",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:4,itemName:"Cement",purchaseCost:150,sellingPrice:200,unit:"kg",quantity:50,aliases:"simiti, bamburi, simba"},{itemId:5,itemName:"Chainlink 5'",purchaseCost:150,sellingPrice:200,unit:"roll",quantity:50,aliases:""},{itemId:6,itemName:'Chicken wire 3/4"',purchaseCost:150,sellingPrice:200,unit:"roll",quantity:50,aliases:""},{itemId:7,itemName:"Cidar post",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:8,itemName:"Cutting disc",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:9,itemName:"Dog chain 25",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:10,itemName:"Door handles",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:11,itemName:"Dust mask",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:12,itemName:'Elbow 1"',purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:13,itemName:"Fastener",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:14,itemName:'File 8"',purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:15,itemName:"Filla 2kg",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:"polyfilla"},{itemId:16,itemName:"Gate valve",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:17,itemName:"Grating vents",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:18,itemName:"Grinding disc",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:19,itemName:"Hack saw",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:20,itemName:"Hammer",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:"nyundo"},{itemId:21,itemName:"Handsaw",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:22,itemName:"Helmet",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:23,itemName:"Hose Pipe clear",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:24,itemName:"Manhole cover 18X24",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:25,itemName:"Masking tape small",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:26,itemName:"Metal Spade",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:27,itemName:"Nails",purchaseCost:150,sellingPrice:200,unit:"kg",quantity:50,aliases:""},{itemId:28,itemName:"Plastic rope",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:"kamba"},{itemId:29,itemName:"Pliers",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:30,itemName:"Rake",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:31,itemName:"Red vents",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:"chrome"},{itemId:32,itemName:"Roof washer",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:33,itemName:"Rope",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:"kamba"},{itemId:34,itemName:"Sand paper #80",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:35,itemName:"Screw driver",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:36,itemName:"Spanner 10/11",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:37,itemName:"Tap",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:38,itemName:"Tape measure 3M",purchaseCost:150,sellingPrice:200,unit:"",quantity:50,aliases:""},{itemId:39,itemName:"Welding rod",purchaseCost:150,sellingPrice:200,unit:"pkt",quantity:50,aliases:""},{itemId:40,itemName:"Wire mesh",purchaseCost:150,sellingPrice:200,unit:"roll",quantity:50,aliases:""}],x=n("6KUg"),w="SET_ITEMS",k="ADD_ITEMS",C="UPDATE_ITEMS",P="DELETE_ITEMS",S="POST_TRANSACTIONS",R="DELETE_TRANSACTIONS ",O="CLEAR",T=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},D=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},N=function(){function t(t,e){this.http=t,this.ngRedux=e,this._url="http://localhost:1111/api/v1.0/items/"}return t.prototype.getItems=function(){return this.stateStockItems},t.prototype.getDbItems=function(){return v.Observable.of(I)},t.prototype.addItems=function(t){return this.ngRedux.dispatch({type:k,items:t}),this.stateStockItems},t.prototype.updateItems=function(t){return this.ngRedux.dispatch({type:C,items:t}),this.stateStockItems},t.prototype.deleteItems=function(t){return this.ngRedux.dispatch({type:P,itemIds:t}),this.stateStockItems},T([Object(x.select)(function(t){return t.stockItems}),D("design:type",Object)],t.prototype,"stateStockItems",void 0),t=T([Object(s.Injectable)(),D("design:paramtypes",[y,x.NgRedux])],t)}(),j=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},E=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},q=function(){function t(t){this.itemsService=t}return t.prototype.checkPassword=function(t,e,n){e.value===t&&$(n).removeAttr("disabled")},t.prototype.tryParseItems=function(t){if(t.value.length>0){for(var e=[],n=t.value.split("\n"),r=0;r<n.length;r++){for(var a=n[r].split("\t"),i={itemId:0,itemName:"",purchaseCost:0,sellingPrice:0,unit:"pc",quantity:0},s=0;s<a.length;s++)switch(s){case 0:i.itemName=a[s];break;case 1:i.purchaseCost="number"==typeof+a[s]?+a[s]:0;break;case 2:i.sellingPrice="number"==typeof+a[s]?+a[s]:0;break;case 3:i.unit=""===a[s]?"pc":a[s];break;case 4:i.quantity=0;break;case 5:i.aliases=a[s];break;default:console.log("Impossible error, but still, congratulations!")}e.push(i)}this.postItems(e)}else console.log("nothing to post")},t.prototype.postItems=function(t){this.itemsService.addItems(t).subscribe(function(t){alert("Successful"),$("textarea").val("")},function(t){alert("Not successful, try again later")})},t=j([Object(s.Component)({selector:"np-batch-add",template:n("nB48"),styles:[n("4SuF")]}),E("design:paramtypes",[N])],t)}(),F=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},A=function(){function t(t,e){this.itemService=t,this.toastyService=e,this.itemsForRecord=[],this.somethingIsEmpty=!0,this.formStatus={OK:!0,text:"All Good"}}return t.prototype.ngOnInit=function(){$(function(){var t=$("[contentEditable=true]");setTimeout(function(){t.eq(0).focus()},0),t.keypress(function(t){return 13!==t.which})})},t.prototype.addItem=function(){for(var t={title:"",msg:"Fill in the fields please",timeout:5e3},e=$("[name=record-items] thead tr").eq(2).children("td"),n=0;n<=2;n++){var r=e.eq(n);if(0!==n){if(!this.isValidInput(r,"number")||!this.isNumber(r))return}else if(!this.isValidInput(r,"string"))return}if(this.somethingIsEmpty)return t.msg="Something is empty",void this.toastyService.error(t);var a,i,s=e.eq(0).html(),o=+e.eq(1).html().replace(/\s+/g,""),c=+e.eq(2).html().replace(/\s+/g,""),l=e.eq(3);if(!this.isEmpty(l,"number")&&!this.isNumber(l))return t.msg="Quantity must be a number",void this.toastyService.error(t);i=this.isEmpty(l,"number")?0:+e.eq(3).html().replace(/\s+/g,"");var d=e.eq(4);this.isEmpty(d,"string")?a="pc":this.hasNUmber(d)?(t.msg="Item unit has a number in it...",this.toastyService.warning(t),a=e.eq(4).html()):a=e.eq(4).html();var p={itemName:s,unit:a,quantity:i,purchaseCost:o,sellingPrice:c};this.itemsForRecord.unshift(p),e.not($("td#addButton")).html(""),e.eq(0).focus()},t.prototype.removeItem=function(t){this.itemsForRecord.splice(t,1)},t.prototype.postItems=function(){var t=this,e=this.addToast("wait..."),n=0;this.stateStockItems.subscribe(function(t){n=t.length});for(var r=0;r<this.itemsForRecord.length;r++)this.itemsForRecord[r].itemId=n++;this.itemService.addItems(this.itemsForRecord).subscribe(function(n){t.toastyService.clear(e),t.addToast(),t.itemsForRecord=[]});$("[name=record-items] thead tr").eq(2).children("td").eq(0).focus()},t.prototype.addToast=function(t){var e,n={title:"",timeout:5e3,theme:"bootstrap",onAdd:function(t){e=t.id}};return"wait"===t?(n.timeout=23e4,n.msg="adding...",this.toastyService.wait(n)):(n.msg="Item added successfully!",this.toastyService.success(n)),e},t.prototype.clickAddButton=function(){document.getElementById("addisiaButton").click()},t.prototype.getNumberOfItems=function(){return this.itemsForRecord.length},t.prototype.validationError=function(t){this.formStatus.OK=!1,this.formStatus.text=t},t.prototype.isEmpty=function(t,e){return"number"===e&&NaN===+t.html().replace(/\s+/g,"")||("string"===e&&null===t.html().replace(/\s+/g,"")||""===t.html().replace(/\s+/g,""))},t.prototype.isValidInput=function(t,e){return this.somethingIsEmpty=this.isEmpty(t,e),this.somethingIsEmpty?(this.formStatus.OK=!1,this.formStatus.text="Fill in required fields!",t.addClass("error-field"),!1):(this.clearError(t),!0)},t.prototype.clearError=function(t){this.formStatus.OK=!0,this.formStatus.text="All Good",void 0!==t&&(t=$(t)).removeClass("error-field")},t.prototype.isNumber=function(t){return t=$(t),!!this.isNumeric(t.html())||(this.validationError("Field must be a number!"),!1)},t.prototype.checkIfHasNumber=function(t){this.hasNUmber(t.innerHTML)&&this.validationError("This is a unit, are you sure you want numbers in it?")},t.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t.prototype.hasNUmber=function(t){return/\d/.test(t)},F([Object(x.select)(function(t){return t.stockItems}),_("design:type",Object)],t.prototype,"stateStockItems",void 0),t=F([Object(s.Component)({selector:"app-items",template:n("bvbG"),styles:[n("yh4Z")]}),_("design:paramtypes",[N,m.c])],t)}(),Y=n("UHIZ");!function(t){t[t.JAN=0]="JAN",t[t.FEB=1]="FEB",t[t.MAR=2]="MAR",t[t.APR=3]="APR",t[t.MAY=4]="MAY",t[t.JUN=5]="JUN",t[t.JUL=6]="JUL",t[t.AUG=7]="AUG",t[t.SEP=8]="SEP",t[t.OCT=9]="OCT",t[t.NOV=10]="NOV",t[t.DEC=11]="DEC"}(a||(a={}));var M,U=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},B=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},L=function(){function t(t){this.ngRedux=t,this._url="http://localhost:1111/api/v1.0/transacs/"}return t.prototype.getTransacs=function(){return this.stateTransacions},t.prototype.getStatsForYear=function(t){return this.stateTransacions},t.prototype.postTransacs=function(t){return this.ngRedux.dispatch({type:S,data:t}),v.Observable.of("success?")},t.prototype.deleteTransacs=function(t){return this.ngRedux.dispatch({type:R,transactionIds:t}),v.Observable.of("success?")},U([Object(x.select)(function(t){return t.transactions}),B("design:type",Object)],t.prototype,"stateTransacions",void 0),t=U([Object(s.Injectable)(),B("design:paramtypes",[x.NgRedux])],t)}(),G=function(){return function(){}}(),Q=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},H=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},J=function(){function t(t,e){this.toastyService=t,this.transacService=e,this.modalOpts=new G,this.transacIdsToDelete=[],this.showDialog=!1,this.selectedMonth=a[(new Date).getUTCMonth().valueOf()],this.selectedYear=(new Date).getUTCFullYear().valueOf(),this.yearOptions=[],this.includeItems=!0,this.transactions=[],this.displayedTransacs=[],this.a=[1,2,3],this.monthStrings=[]}return t.prototype.ngOnInit=function(){this.getTransacs((new Date).toUTCString());for(var t in a)"number"==typeof a[t]&&this.monthStrings.push(t);this.updateYearOpts()},t.prototype.changeYear=function(t){var e=parseInt(t.selectedOptions[0].value,10);this.selectedYear=e;var n=new Date(Date.UTC(this.selectedYear,a[this.selectedMonth])).toUTCString();this.getTransacs(n)},t.prototype.changeMonth=function(t){this.selectedMonth=t;var e=new Date(Date.UTC(this.selectedYear,a[this.selectedMonth])).toUTCString();this.getTransacs(e)},t.prototype.getTransacs=function(t){var e=this,n=this.addToast("wait","Fetching records...");this.transacService.getTransacs().subscribe(function(r){e.toastyService.clear(n),e.displayedTransacs=[];for(var a=Object.keys(r),i=0;i<a.length;i++){if(new Date(a[i]).getMonth()===new Date(t).getMonth()){var s=jQuery.extend(!0,{},r);e.transactions=e.transactions.concat(s[a[i]]).slice()}}void 0===e.transactions&&(e.transactions=[]);for(var o=0;o<e.transactions.length;o++){e.transactions[o].total=0;var c=e.transactions[o].date,l=c.substr(0,4),d=c.substr(5,2),p=c.substr(8,2);e.transactions[o].date=p+"/"+d+"/"+l;for(i=0;i<e.transactions[o].items.length;i++)1===e.transactions[o].transactionType&&(e.transactions[o].items[i].total=e.transactions[o].items[i].sellingPrice*e.transactions[o].items[i].quantity,e.transactions[o].total+=e.transactions[o].items[i].total),2===e.transactions[o].transactionType&&(e.transactions[o].items[i].total=e.transactions[o].items[i].purchaseCost*e.transactions[o].items[i].quantity,e.transactions[o].total+=e.transactions[o].items[i].total)}for(i=0;i<e.transactions.length;i++)e.displayedTransacs.unshift(e.transactions[i]);e.transactions=[]})},t.prototype.deleteTransacs=function(t){var e=this,n=this.addToast("wait","Deleting...");this.transacService.deleteTransacs(this.transacIdsToDelete).subscribe(function(t){e.toastyService.clear(n),e.addToast("info","Deleted!");var r=new Date(Date.UTC(e.selectedYear,a[e.selectedMonth])).toUTCString();e.getTransacs(r)}),this.transacIdsToDelete=[]},t.prototype.updateYearOpts=function(){for(var t=-4;t<=4;t++)0!==t?this.yearOptions.push(this.selectedYear+t):this.yearOptions.push(this.selectedYear)},t.prototype.isConfirmed=function(t){this.showDialog=!1,t&&this.deleteTransacs(this.transacIdsToDelete)},t.prototype.showModal=function(t,e,n){e.push(n),this.transacIdsToDelete=e,this.modalOpts.body="Delete "+this.transacIdsToDelete.length.toString()+" transactions?",this.showDialog=t},t.prototype.addToast=function(t,e){var n,r={title:"",onAdd:function(t){n=t.id}};switch(r.title="",r.msg=e,r.theme="bootstrap",r.timeout=3e3,t){case"wait":r.timeout=23e3,this.toastyService.wait(r);break;case"info":this.toastyService.info(r);break;case"success":this.toastyService.success(r);break;case"warning":this.toastyService.warning(r);break;case"error":this.toastyService.error(r);break;default:this.toastyService.default(r)}return n},Q([Object(x.select)(function(t){return t.transactions}),H("design:type",Object)],t.prototype,"stateTransacions",void 0),t=Q([Object(s.Component)({selector:"app-recent-transacs",template:n("ag2n"),styles:[n("YY2f")]}),H("design:paramtypes",[m.c,L])],t)}(),z=function(){return function(){}}(),K=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Z=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},W=function(){function t(t,e,n){this.transacService=t,this.itemService=e,this.toastyService=n,this.data=[{}],this.npGridConfig_sales={columns:[{colName:"itemName",display:"Item"},{colName:"sellingPrice",display:"Price"},{colName:"unit",display:"Units"}],searchBy:["itemName","aliases"],pagingOptions:[10,25],click:"click",hover:"hover"},this.npGridConfig_purchases={columns:[{colName:"itemName",display:"Item"},{colName:"purchaseCost",display:"Buying Price"},{colName:"unit",display:"Units"}],searchBy:["itemName","aliases"],pagingOptions:[10,25],click:"click",hover:"hover"},this.receiptRowObjs={},this.transacType="sale",this.formStatus={OK:!0,text:"All Good"},this.errorItems={},this.purchaseItems=[],this.saleItems=[],this.transaction=new z,this.itemsArray=[],this.arrJsonNames=[],this.salePurchaseFlag=0,this.selectedDate=this.setDate()}return t.prototype.ngOnInit=function(){var t=this;$(function(){$("[contentEditable=true]").keypress(function(t){return 13!==t.which})}),this.itemService.getItems().subscribe(function(e){t.data=e})},t.prototype.onGridAction=function(t){switch(t.action){case"click":var e=void 0;if("sale"===this.transacType){for(n=0;n<this.saleItems.length;n++)this.saleItems[n].itemId===t.row.itemId&&(e=!0,this.saleItems[n].amount=this.saleItems[n].sellingPrice*++this.saleItems[n].quantity);e||this.saleItems.push({itemId:t.row.itemId,itemName:t.row.itemName,quantity:1,sellingPrice:t.row.sellingPrice,amount:1*t.row.sellingPrice,purchaseCost:t.row.purchaseCost,unit:"bla",aliases:"bla"})}else if("purchase"===this.transacType){for(var n=0;n<this.purchaseItems.length;n++)this.purchaseItems[n].itemId===t.row.itemId&&(e=!0,this.purchaseItems[n].amount=this.purchaseItems[n].purchaseCost*++this.purchaseItems[n].quantity);e||this.purchaseItems.push({itemId:t.row.itemId,itemName:t.row.itemName,quantity:1,sellingPrice:t.row.sellingPrice,amount:1*t.row.sellingPrice,purchaseCost:t.row.purchaseCost,unit:"bla",aliases:"bla"})}break;default:console.log("trouble, baby")}},t.prototype.saleItemQtyChanged=function(t,e){var n=$("[name=sales-receipt] tr td"),r=this.saleItems[t].sellingPrice,a=this.saleItems[t].amount=r*+e.value;n.eq(3).html(a.toString())},t.prototype.saleItemPriceChanged=function(t,e){var n=this.saleItems[t];if(isNaN(+e.innerText)||0==+e.innerText)this.errorItems[n.itemId]="error",this.saleItems[t].amount=0;else{var r=$("[name=sales-receipt] tr td");delete this.errorItems[n.itemId];var a=this.saleItems[t].amount=n.quantity*+e.innerText;r.eq(3).html(a.toString())}},t.prototype.saleItemPriceFinal=function(t,e){isNaN(+e.innerText)?this.saleItems[t].sellingPrice=0:this.saleItems[t].sellingPrice=+e.innerText},t.prototype.saleItemAmtChanged=function(t,e){var n=this.saleItems[t];if(isNaN(+e.innerText)||0==+e.innerText)this.errorItems[n.itemId]="error",this.saleItems[t].sellingPrice=0;else{var r=$("[name=sales-receipt] tr td");delete this.errorItems[n.itemId];var a=this.saleItems[t].sellingPrice=+e.innerText/this.saleItems[t].quantity;r.eq(2).html(a.toString())}},t.prototype.saleItemAmtFinal=function(t,e){isNaN(+e.innerText)?this.saleItems[t].amount=0:this.saleItems[t].amount=+e.innerText},t.prototype.purchaseItemQtyChanged=function(t,e){var n=$("[name=purchases-receipt] tr td"),r=this.purchaseItems[t].purchaseCost,a=this.purchaseItems[t].amount=r*+e.value;n.eq(3).html(a.toString())},t.prototype.purchaseItemPriceChanged=function(t,e){var n=this.purchaseItems[t];if(isNaN(+e.innerText)||0==+e.innerText)this.errorItems[n.itemId]="error",this.purchaseItems[t].amount=0;else{var r=$("[name=purchases-receipt] tr td");delete this.errorItems[n.itemId];var a=this.purchaseItems[t].amount=n.quantity*+e.innerText;r.eq(3).html(a.toString())}},t.prototype.purchaseItemPriceFinal=function(t,e){isNaN(+e.innerText)?this.purchaseItems[t].sellingPrice=0:this.purchaseItems[t].sellingPrice=+e.innerText},t.prototype.purchaseItemAmtChanged=function(t,e){var n=this.purchaseItems[t];if(isNaN(+e.innerText)||0==+e.innerText)this.errorItems[n.itemId]="error",this.purchaseItems[t].sellingPrice=0;else{var r=$("[name=purchases-receipt] tr td"),a=+e.innerText,i=this.purchaseItems[t].quantity;delete this.errorItems[n.itemId];var s=this.purchaseItems[t].sellingPrice=a/i;r.eq(2).html(s.toString())}},t.prototype.purchaseItemAmtFinal=function(t,e){isNaN(+e.innerText)?this.purchaseItems[t].amount=0:this.purchaseItems[t].amount=+e.innerText},t.prototype.postSale=function(){var t=this;if(this.validateItems(this.transacType),this.transaction.items){this.transaction.date=this.selectedDate,this.transaction.transactionType=1;var e=this.addToast("wait","posting");this.transacService.postTransacs(this.transaction).subscribe(function(n){t.toastyService.clear(e),t.addToast("success","Posted!")},function(n){t.toastyService.clear(e)}),this.saleItems=[]}},t.prototype.postPurchase=function(){var t=this;if(this.validateItems(this.transacType),this.transaction.items){this.transaction.date=this.selectedDate,this.transaction.transactionType=2;var e=this.addToast("wait","posting..");this.transacService.postTransacs(this.transaction).subscribe(function(n){t.toastyService.clear(e),t.addToast("success","Posted!")}),this.purchaseItems=[]}},t.prototype.getTotalSaleAmount=function(){for(var t=0,e=0;e<this.saleItems.length;e++)t+=this.saleItems[e].amount;return t},t.prototype.getTotalPurchaseAmount=function(){for(var t=0,e=0;e<this.purchaseItems.length;e++)t+=this.purchaseItems[e].amount;return t},t.prototype.removeSaleItem=function(t){this.saleItems.splice(t,1)},t.prototype.removePurchaseItem=function(t){this.purchaseItems.splice(t,1)},t.prototype.validateItems=function(t){if(jQuery.isEmptyObject(this.errorItems))switch(t){case"sale":if(this.purchaseItems.length>0)return void this.addToast("error","Post purchases first!");this.saleItems.length>0&&this.stageItemsForPosting(t);break;case"purchase":if(this.saleItems.length>0)return void this.addToast("error","Post sales first!");this.purchaseItems.length>0&&this.stageItemsForPosting(t);break;default:return void this.addToast("error","Invalid transactionType!")}else this.addToast("error","some items have 0 amount")},t.prototype.stageItemsForPosting=function(t){switch(t){case"sale":this.transaction.items=this.saleItems;break;case"purchase":this.transaction.items=this.purchaseItems;break;default:console.log("invalid transaction type")}},t.prototype.addToast=function(t,e){var n,r={title:"",onAdd:function(t){n=t.id}};switch(r.title="",r.msg=e,r.theme="bootstrap",r.timeout=3e3,t){case"wait":this.toastyService.wait(r);break;case"info":this.toastyService.info(r);break;case"success":this.toastyService.success(r);break;case"warning":this.toastyService.warning(r);break;case"error":this.toastyService.error(r);break;default:this.toastyService.default(r)}return n},t.prototype.getTotalItems=function(t){return"sale"===t?this.saleItems.length:"purch"===t?this.purchaseItems.length:0},t.prototype.clearReceipt=function(){switch(this.transacType){case"sale":this.saleItems=[];break;case"purchase":this.purchaseItems=[];break;default:console.log("invalid transaction type")}},t.prototype.setDate=function(){return(new Date).toISOString().substr(0,10)},t.prototype.changeTransacType=function(t){this.transacType=t},t=K([Object(s.Component)({selector:"app-record-transacs",template:n("zxJc"),styles:[n("8iqK")],encapsulation:s.ViewEncapsulation.None}),Z("design:paramtypes",[L,N,m.c])],t)}(),V=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},X=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tt=function(){function t(t,e,n){this.transacService=t,this.toastyService=e,this.toastyConfig=n,this.today=new Date,this.statsDate={year:this.today.getUTCFullYear(),month:this.today.getUTCMonth(),day:this.today.getUTCDay()},this.monthlyStats=[],this.appMonths=[]}return t.prototype.ngOnInit=function(){this.getStatsForYear(this.statsDate.year);for(var t=0;t<=11;t++)this.appMonths.push(a[t])},t.prototype.getStatsForYear=function(t){var e=this,n=this.addToast();this.monthlyStats=[],this.transacService.getStatsForYear(t).subscribe(function(r){for(var i=Object.keys(r),s=[],o=0;o<i.length;o++){for(var c=[0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0,0,0,0],p=new Date(i[o]).getMonth(),u=r[i[o]],h=0;h<u.length;h++){for(var m=u[h],f=0,g=0,b=0,y=0;y<u[h].items.length;y++){var v=m.items[y].sellingPrice*m.items[y].quantity,I=m.items[y].purchaseCost*m.items[y].quantity;f+=v,g+=I,b+=v-I}switch(u[h].transactionType){case 1:c[p]+=f,d[p]+=b;break;case 2:l[p]+=g}}if(new Date(i[o]).getFullYear()===new Date(t,0).getFullYear())for(var x=0;x<=11;x++)if(s.length<12){var w={month:a[x],sales:c[x],purchases:l[x],profitLoss:d[x]};s.push(w)}else s[x].sales+=c[x],s[x].purchases+=l[x],s[x].profitLoss+=d[x]}e.monthlyStats=s,e.toastyService.clear(n)})},t.prototype.previousYear=function(){var t=+this.statsDate.year-1;this.getStatsForYear(t),this.statsDate.year=t},t.prototype.nextYear=function(){var t=+this.statsDate.year+1;this.getStatsForYear(t),this.statsDate.year=t},t.prototype.addToast=function(){var t,e={title:"",msg:"fetching data...",timeout:5e3,theme:"bootstrap",onAdd:function(e){t=e.id}};return this.toastyService.wait(e),t},t=V([Object(s.Component)({selector:"app-statistics",template:n("gdDR"),styles:[n("OtY7")]}),X("design:paramtypes",[L,m.c,m.a])],t)}(),et=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},nt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rt=function(){function t(t,e,n){this.itemService=t,this.toastyService=e,this.ngRedux=n,this.isContenteditable=!1,this.updatedItems=[],this.itemsToDelete=[],this.data=[{}],this.npGridConfig={columns:[{colName:"itemName",display:"Item",sort:!0,id:!0},{colName:"sellingPrice",display:"Selling Price",sort:!0},{colName:"purchaseCost",display:"Buying Price",sort:!0},{colName:"quantity",display:"Qty"},{colName:"unit",display:"Units"},{colName:"actions"}],additionalColumns:[{colName:"aliases"},{colName:"itemId",noEdit:!0}],searchBy:["itemName","aliases"],pagingOptions:[10,25,50,100],multiselect:!0},this.modalOpts=new G,this.showDialog=!1}return t.prototype.ngOnInit=function(){var t=this;this.stateStockItems.subscribe(function(e){t.data=e}),$(function(){$("[contenteditable=true]").focus(function(){var t=this.innerHTML,e=$(this);e.val(""),setTimeout(function(){e.val(t)},1)})})},t.prototype.onGridAction=function(t){for(var e=null,n=0;n<t.length;n++)switch(t[n].action){case"update":e||(e=t[n].row),e[t[n].col]=t[n].data,n===t.length-1&&(this.updatedItems.push(e),this.postUpdate());break;case"delete":this.itemsToDelete.push(t[n].row.itemId)}this.itemsToDelete.length>0&&this.showModal(this.itemsToDelete.length),this.updatedItems=[]},t.prototype.postUpdate=function(){var t=this,e=this.addToast("wait","Updating...");this.itemService.updateItems(this.updatedItems).subscribe(function(n){t.toastyService.clear(e),t.addToast("success","Item(s) Updated!"),t.updatedItems=[]})},t.prototype.removeItems=function(t){var e=this,n=this.addToast("wait","Deleting...");this.itemService.deleteItems(t).subscribe(function(t){e.data=t,e.latestDeleteToast&&e.toastyService.clear(e.latestDeleteToast),e.latestDeleteToast=e.addToast("info","Deleted!"),e.toastyService.clear(n)}),this.itemsToDelete=[]},t.prototype.isConfirmed=function(t){this.showDialog=!1,t&&this.removeItems(this.itemsToDelete)},t.prototype.showModal=function(t){this.modalOpts.body="Delete "+t.toString()+" items?",this.showDialog=!0},t.prototype.addToast=function(t,e){var n,r={title:"",onAdd:function(t){n=t.id}};switch(r.title="",r.msg=e,r.theme="bootstrap",r.timeout=3e3,t){case"wait":r.timeout=23e3,this.toastyService.wait(r);break;case"info":this.toastyService.info(r);break;case"success":this.toastyService.success(r);break;case"warning":this.toastyService.warning(r);break;case"error":this.toastyService.error(r);break;default:this.toastyService.default(r)}return n},t.prototype.enableEdits=function(){this.isContenteditable=!0},et([Object(x.select)(function(t){return t.stockItems}),nt("design:type",Object)],t.prototype,"stateStockItems",void 0),t=et([Object(s.Component)({selector:"app-stock",template:n("PWEl"),styles:[n("CZ7F")]}),nt("design:paramtypes",[N,m.c,x.NgRedux])],t)}(),at=[{path:"",redirectTo:"/record",pathMatch:"full"},{path:"transactions",component:J},{path:"record",component:W},{path:"stats",component:tt},{path:"stats",component:tt},{path:"items",component:A},{path:"stock",component:rt},{path:"batch",component:q}],it=Y.b.forRoot(at),st=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=function(t){function e(){return t.call(this)||this}return st(e,t),e.prototype.handleError=function(e){e instanceof d.a?e.subscribe(function(t){switch(!0){case t instanceof u:console.log("Try restarting the app");break;case t instanceof h:console.log("Contact Eric");break;default:console.error(t)}}):t.prototype.handleError.call(this,e)},e}(s.ErrorHandler),ct=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dt=function(){function t(t,e){this.itemService=t,this.ngRedux=e,this.title="app works!"}return t.prototype.ngOnInit=function(){$(function(){$(".app-header").addClass("bx-shadow")})},t.prototype.addTestData=function(){var t=this;this.itemService.getDbItems().subscribe(function(e){t.ngRedux.dispatch({type:w,items:e})})},t.prototype.clearDemo=function(){this.ngRedux.dispatch({type:O})},t=ct([Object(s.Component)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]}),lt("design:paramtypes",[N,x.NgRedux])],t)}(),pt=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ut=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ht=function(){function t(t){this.activeRoute=t}return t.prototype.ngOnInit=function(){var t=document.getElementsByClassName("active");"np-rt"===$(t).attr("np-rt")&&$("#content").addClass("content-lg"),$("a").on("click",function(){$(".app-header").addClass("bx-shadow")}),$('[routerLink="/record"]').parent("li").addClass("active")},t.prototype.sidenavClicked=function(t){$("li").removeClass("active"),$(t).parent().addClass("active")},t=pt([Object(s.Component)({selector:"app-sidenav",template:n("kSqs"),styles:[n("/kYw")]}),ut("design:paramtypes",[Y.a])],t)}(),mt=n("fAeS"),ft=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bt=function(){function t(){this.closable=!0,this.confirmed=new s.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.close=function(){this.visible=!1,this.confirmed.emit(this.isAffirmed)},t.prototype.confirmee=function(t){this.isAffirmed=t},ft([Object(s.Input)(),gt("design:type",Object)],t.prototype,"closable",void 0),ft([Object(s.Input)(),gt("design:type",Boolean)],t.prototype,"visible",void 0),ft([Object(s.Input)(),gt("design:type",G)],t.prototype,"options",void 0),ft([Object(s.Output)(),gt("design:type",s.EventEmitter)],t.prototype,"confirmed",void 0),t=ft([Object(s.Component)({selector:"np-modal",template:n("WvMM"),styles:[n("dnyf")],animations:[Object(mt.j)("dialog",[Object(mt.i)("void => *",[Object(mt.h)({transform:"translateY(-50%)"}),Object(mt.e)(300,Object(mt.f)([Object(mt.h)({opacity:0,transform:"translateY(-50%)",offset:0}),Object(mt.h)({opacity:1,transform:"translateY(15px)",offset:.3}),Object(mt.h)({opacity:1,transform:"translateY(0)",offset:1})]))]),Object(mt.i)("* => void",[Object(mt.e)(300,Object(mt.f)([Object(mt.h)({opacity:1,transform:"translateY(0)",offset:0}),Object(mt.h)({opacity:1,transform:"translateY(-15px)",offset:.7}),Object(mt.h)({opacity:0,transform:"translateY(-50%)",offset:1})]))])])]}),gt("design:paramtypes",[])],t)}(),yt=n("MCDL"),vt=n("Ioj9"),It=n("eoFs"),xt=n("42/u"),wt=n("TO51"),kt=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ct=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pt=function(){function t(){this.action=new s.EventEmitter,this.gridData={columns:[],rows:[]},this.allData={columns:[],rows:[]},this.ngUnsubscribe=new wt.b,this._data=new It.BehaviorSubject([]),this.paginator=new Rt,this.idColumn="",this.actionResults=[],this.sortDirection=0,this.currentSortedColumn="",this.fuseOptions={shouldSort:!0,threshold:.5,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[]},this.checkedItems=[],this.dataColumns=[],this.dataRows=[],this.additionalDataRows={},this.extraCols=0,this.additionalColumns=[],this.currentExtraColumn=-1,this.displayLeadingGap=!1,this.displayEndingGap=!1}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data.getValue()},set:function(t){this._data.next(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._data.takeUntil(this.ngUnsubscribe).subscribe(function(e){t.gridData.columns=t.parseColumns(t.gridSettings.columns),t.dataColumns=t.parseColumnHeaders(t.gridSettings.columns),t.gridSettings.additionalColumns&&(t.additionalColumns=t.gridSettings.additionalColumns),t.fuseOptions.keys=t.gridSettings.searchBy,t.tdWidth=(100-100/12)/t.gridData.columns.length+"%",t.gridData.rows=t.allData.rows=e,void 0===t.gridSettings.pagingOptions&&(t.pagerFlag=!0),t.paginator.rowsPerPage=t.pagerFlag?10:t.gridSettings.pagingOptions[0],t.paginator=t.initializePager(t.paginator),t.updExtraCols()})},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.initializePager=function(t){return this.render(1,t.rowsPerPage),t},t.prototype.parseColumns=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.display&&e.push(r.colName)}return e},t.prototype.parseColumnHeaders=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],a={name:"",canSort:!1};r.display&&(a.name=r.display),r.sort?a.canSort=!0:a.canSort=!1,r.id&&""===this.idColumn&&(this.idColumn=r.colName),e.push(a)}return e},t.prototype.toggleSort=function(t){switch(this.currentSortedColumn!==t.name?(this.currentSortedColumn=t.name,this.sortDirection=1):this.sortDirection++,this.sortDirection>2&&(this.sortDirection=0),this.sortDirection){case 0:this.sortColumn(t.name,"");break;case 1:this.sortColumn(t.name,"asc");break;case 2:this.sortColumn(t.name,"desc");break;default:console.log("Invalid sort order")}},t.prototype.sortColumn=function(t,e){if(""!==e){for(var n,r=this.allData.rows.slice(),a=0;a<this.gridSettings.columns.length;a++)this.gridSettings.columns[a].display===t&&(n=this.gridSettings.columns[a].colName);var i=r.sort(function(t,r){return((isNaN(+t[n])?t[n]:+t[n])<(isNaN(+r[n])?r[n]:+r[n])?-1:1)*("asc"===e?1:-1)});this.renderRows(i,this.paginator)}else this.renderRows(this.allData.rows,this.paginator)},t.prototype.filterItems=function(t){var e=t.value.replace(/\s+/g,"");if(""!==e&&null!==e&&NaN!==+e&&0!=+e){var n=new xt(this.allData.rows,this.fuseOptions).search(t.value.toString());this.render(1,this.paginator.rowsPerPage,n)}else this.render(1,this.paginator.rowsPerPage,this.allData.rows)},t.prototype.renderRows=function(t,e){if(this.paginator.pageCount=this.pageCount(e,this.allData.rows.length),this.updDisabled(),this.gridData.rows=[],!(t.length<=0))if(t.length>10){var n=this.paginator.currentPage*this.paginator.rowsPerPage-this.paginator.rowsPerPage,r=this.paginator.currentPage*this.paginator.rowsPerPage;this.paginator.currentPage===this.paginator.lastPage&&(r=t.length);for(var a=n;a<r;a++)this.gridData.rows.push(t[a])}else this.gridData.rows=t},t.prototype.render=function(t,e,n){this.paginator.currentPage=t,e&&(this.paginator.rowsPerPage=e),n?this.renderRows(n,this.paginator):this.renderRows(this.allData.rows,this.paginator)},t.prototype.renderAdditionalCols=function(){for(var t=0;t<this.allData.rows.length;t++){for(var e=this.allData.rows[t],n={},r=0;r<this.additionalColumns.length;r++){var a=this.additionalColumns[r];e[a.colName]&&(n[a.colName]=e[a.colName])}this.additionalDataRows=n}},t.prototype.nextPage=function(){this.nextDisabled||this.render(++this.paginator.currentPage)},t.prototype.previousPage=function(){this.prevDisabled||this.render(--this.paginator.currentPage)},t.prototype.selectRowsPerPg=function(t){var e=parseInt(t.selectedOptions[0].value,10);this.render(1,e)},t.prototype.collapseDataRow=function(){this.dataRowClicked(-1)},t.prototype.dataRowClicked=function(t,e){if(this.gridSettings.click&&($(".npg-datarow").eq(t).addClass("clicked"),setTimeout(function(){$(".npg-datarow").eq(t).removeClass("clicked")},150)),this.dataEditable&&-1!==t||(this.renderAdditionalCols(),this.currentExtraColumn=-1===this.currentExtraColumn?t:-1,-1===t&&(this.dataEditable=!1,this.actionResults=[])),this.gridSettings.click){var n=new Ot;n.action="click",n.row=e,this.action.emit(n)}},t.prototype.toggleAllChecked=function(){var t=new Event("change");this.headerIsChecked=!this.headerIsChecked;for(var e=document.querySelectorAll("td>[type=checkbox]"),n=0;n<e.length;n++)e[n].checked=this.headerIsChecked,e[n].dispatchEvent(t)},t.prototype.checkItemRow=function(t,e){if(t.checked)this.checkedItems.push(e);else{var n=$.inArray(e,this.checkedItems);-1!==n&&this.checkedItems.splice(n,1)}},t.prototype.enableEdits=function(){this.dataEditable=!this.dataEditable},t.prototype.updDisabled=function(){this.nextDisabled=this.paginator.lastPage===this.paginator.currentPage,this.prevDisabled=this.paginator.firstPage===this.paginator.currentPage},t.prototype.updExtraCols=function(){var t=0;this.gridSettings.multiselect&&t++,!this.pagerFlag&&this.gridSettings.pagingOptions.length>0&&t--,this.extraCols=t},t.prototype.itemFieldChanged=function(t,e,n){var r={action:"update",row:t,col:e,data:n.innerText};this.updateActionResult(r)},t.prototype.additionalItemFieldChanged=function(t,e,n){this.itemFieldChanged(t,e.colName,n)},t.prototype.updateActionResult=function(t){if(this.actionResults.length>0)for(var e=this.actionResults.length,n=0;n<e;n++){if(this.actionResults[n].row===t.row&&this.actionResults[n].col===t.col)return void(this.actionResults[n].data=t.data);n===e-1&&this.actionResults.push(t)}else this.actionResults.push(t)},t.prototype.updateData=function(){this.actionResults.length>0&&this.action.emit(this.actionResults),this.dataEditable=!1,this.collapseDataRow(),this.actionResults=[]},t.prototype.deleteItem=function(t){this.actionResults=[],this.actionResults.push({action:"delete",row:t}),this.action.emit(this.actionResults),this.collapseDataRow(),this.actionResults=[]},t.prototype.deleteMany=function(t){this.actionResults=[];for(var e=0;e<t.length;e++)this.actionResults.push({action:"delete",row:t[e]});this.action.emit(this.actionResults),this.collapseDataRow(),this.actionResults=[],this.checkedItems=[],this.toggleAllChecked()},t.prototype.pageCount=function(t,e){var n;return e>10?((n=Math.ceil(e/t.rowsPerPage))>1?this.paginator.lastPage=n:1===n&&(this.paginator.lastPage=1),n):e<10?1:void 0},kt([Object(s.Input)("np-grid"),Ct("design:type",St)],t.prototype,"gridSettings",void 0),kt([Object(s.Input)(),Ct("design:type",Object),Ct("design:paramtypes",[Object])],t.prototype,"data",null),kt([Object(s.Output)(),Ct("design:type",s.EventEmitter)],t.prototype,"action",void 0),t=kt([Object(s.Component)({selector:"np-grid",template:n("d/2j"),styles:[n("nbYI")]}),Ct("design:paramtypes",[])],t)}(),St=function(){return function(){}}(),Rt=(function(){}(),function(){}(),function(){return function(){this.pageCount=this.firstPage=this.lastPage=this.currentPage=1,this.rowsPerPage=10}}()),Ot=(function(){}(),function(){return function(){}}()),Tt=n("hZMJ"),Dt={stockItems:[],transactions:{}},Nt=this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Et=function(){function t(t,e){this.injector=e,t.configureStore(r,Dt),M=this.injector}return t=Nt([Object(s.NgModule)({declarations:[dt,ht,J,W,tt,A,rt,bt,Pt,q],imports:[o.a,c.a,l.b,it,yt.a,vt.a,m.b.forRoot(),x.NgReduxModule],providers:[y,L,N,{provide:s.ErrorHandler,useClass:ot}],bootstrap:[dt]}),jt("design:paramtypes",[x.NgRedux,s.Injector])],t)}();Object(s.enableProdMode)(),Object(i.a)().bootstrapModule(Et)},"d/2j":function(t,e){t.exports='<div *ngIf="gridSettings.multiselect" class="col-md-12 np-data-manip">\r\n  <div class="col-md-7">\r\n    <input class="form-control" placeholder="Search" type="search" (input)="filterItems(filter)" #filter>\r\n  </div>\r\n  <div class="col-md-2 col-md-push-2">\r\n    <button class="btn btn-danger" [disabled]="!checkedItems.length" (click)="deleteMany(checkedItems)">Delete Selected</button>\r\n  </div>\r\n</div>\r\n<input *ngIf="!gridSettings.multiselect" class="np-data-manip-search form-control np-data-manip" placeholder="Search" type="search" (input)="filterItems(filter)" #filter>\r\n\r\n<table class="table" my-name="np-data">\r\n  <thead>\r\n    <tr>\r\n      <th *ngIf="gridSettings.multiselect" class="col-md-1">\r\n          <input type="checkbox" [checked]="headerIsChecked" (change)="toggleAllChecked()">\r\n      </th>\r\n      <th *ngFor="let dataColumn of dataColumns"\r\n        [ngStyle]="{\r\n          \'width\': tdWidth,\r\n          \'cursor\': dataColumn.canSort ? \'pointer\' : \'auto\'\r\n        }"\r\n        (click)="toggleSort(dataColumn)">\r\n          {{ dataColumn.name }}\r\n        <span *ngIf="dataColumn.canSort && sortDirection === 0 && currentSortedColumn === dataColumn.name"></span>\r\n        <span *ngIf="dataColumn.canSort && sortDirection === 1 && currentSortedColumn === dataColumn.name"><i class="ion-android-arrow-up"></i></span>\r\n        <span *ngIf="dataColumn.canSort && sortDirection === 2 && currentSortedColumn === dataColumn.name"><i class="ion-android-arrow-down"></i></span>\r\n      </th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor="let dataRow of gridData.rows; let i = index">\r\n      <td [attr.colspan]="gridData.columns.length + extraCols + 1">\r\n        <table class="table"\r\n        [ngClass]="{\r\n          \'table-hover\': gridSettings.hover,\r\n          \'npg-clickable\': gridSettings.click\r\n        }">\r\n          <tbody>\r\n            <tr class="npg-datarow">\r\n              <td *ngIf="gridSettings.multiselect">\r\n                <input type="checkbox" (change)="checkItemRow(itemCheckBoxEl, dataRow)" #itemCheckBoxEl>\r\n              </td>\r\n              <td (click)="dataRowClicked(i, dataRow)" *ngFor="let colName of gridData.columns" \r\n                [attr.contenteditable]="dataEditable"\r\n                [ngStyle]="{\'width\': tdWidth}" #dataField\r\n                (input)="itemFieldChanged(dataRow, colName, dataField)">{{ dataRow[colName] }}</td>\r\n            </tr>\r\n            <ng-container *ngIf="additionalColumns.length > 0 && currentExtraColumn === i">\r\n            <tr *ngFor="let additionalColumn of additionalColumns; let j = index">\r\n              <th></th>    \r\n              <th>{{ additionalColumn.colName }} :</th>\r\n              <td [attr.colspan]="gridData.columns.length + extraCols - 1"\r\n                [attr.contenteditable]="dataEditable && !(additionalColumns[j].noEdit === true)"\r\n                (input)="additionalItemFieldChanged(dataRow, additionalColumn, additionalEl)" #additionalEl>\r\n                  {{ dataRow[additionalColumn.colName] }}\r\n              </td>\r\n            </tr>\r\n            <tr style="border-top: 2px solid white;">\r\n              <td></td>\r\n              <td [attr.colspan]="gridData.columns.length" style="text-align: right; padding: 2px;">\r\n                <button class="npg-btn-actions btn btn-sm"\r\n                  (click)="collapseDataRow()">x cancel</button>\r\n                <button *ngIf="!dataEditable" class="npg-btn-actions btn btn-sm btn-info"\r\n                  (click)="enableEdits()">edit</button>\r\n                <button *ngIf="dataEditable" class="npg-btn-actions btn btn-sm btn-success"\r\n                  (click)="updateData(dataRow)">save edits</button>\r\n                <button class="npg-btn-actions btn btn-sm btn-danger"\r\n                  (click)="deleteItem(dataRow)">delete</button>\r\n              </td>\r\n            </tr>\r\n            </ng-container>\r\n          </tbody>\r\n        </table>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n  <tfoot>\r\n    <tr>\r\n      <td [attr.colspan]="gridData.columns.length + extraCols">\r\n        <nav>\r\n          <ul class="pager">\r\n            <li [ngClass]="{\r\n                  \'disabled\': prevDisabled\r\n                }"><a (click)="previousPage()">Previous</a></li>\r\n            <li [ngClass]="{\r\n                  \'disabled\': nextDisabled\r\n                }"><a (click)="nextPage()">Next</a></li>\r\n          </ul>\r\n        </nav>\r\n      </td>\r\n      <td *ngIf="!pagerFlag" id="row-count">\r\n        Display\r\n        <select (change)="selectRowsPerPg(rpp)" #rpp>\r\n          <option *ngFor="let opt of gridSettings.pagingOptions" [selected]="opt === gridSettings.rowsPerPage">{{ opt }}</option> \r\n        </select>\r\n        rows per page\r\n      </td>\r\n    </tr>\r\n  </tfoot>\r\n</table>\r\n'},dnyf:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".overlay{top:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:999}.dialog,.overlay{position:fixed;left:0;right:0}.dialog{z-index:1000;top:20px;margin-right:auto;margin-left:auto;min-height:200px;width:90%;max-width:520px;background-color:#fff;padding:12px;box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}@media (min-width:768px){.dialog{top:40px}}.np-button-group{position:absolute;bottom:7%;right:3%}",""]),t.exports=t.exports.toString()},efyd:function(t,e){t.exports='<div class="np-panel clearfix">\r\n  <span class="np-demo-message">You are viewing a demo of the application. Any data entered will not (really) be saved</span>\r\n  <span class="pull-right">\r\n    <button class="btn btn-info" (click)="addTestData()">Add Data</button>\r\n    <button type="reset" class="btn btn-danger" (click)="clearDemo()">Clear</button>\r\n  </span>\r\n</div>\r\n\x3c!-- content wrapper to define fullpage or container --\x3e\r\n\x3c!-- (recomended: dont change the id value) --\x3e\r\n<section id="wrapper" class="container">\r\n  \x3c!-- define side left theme --\x3e\r\n  <aside class="side-left">\r\n    \x3c!-- side header --\x3e\r\n    <div class="side-header">\r\n      \x3c!-- place your brand (recomended: dont change the id value) --\x3e\r\n      \x3c!-- (recomended: dont change the id value) --\x3e\r\n      <h1 id="brand" class="brand">\r\n        <a href="index.html"><span id="ng">ng</span> <span id="pos">pos</span></a>\r\n      </h1>\r\n      \x3c!-- /brand --\x3e\r\n    </div>\r\n    \x3c!-- /side header --\x3e\r\n\r\n    <app-sidenav></app-sidenav>\r\n\r\n  </aside>\r\n  \x3c!-- /side left --\x3e\r\n\r\n  \x3c!-- define content theme, use data-swipe="true" to enable gesture event --\x3e\r\n  \x3c!-- (recomended: dont change the id value) --\x3e\r\n  <section id="content" class="content">\r\n    \x3c!-- define your content header here --\x3e\r\n    <header class="content-header">\r\n      \x3c!-- header actions --\x3e\r\n      <div class="header-actions pull-left">\r\n        \x3c!-- #toggle-content --\x3e\r\n        <button id="toggle-content" class="btn btn-icon" type="button"><i class="icon ion-navicon-round"></i></button>\r\n        \x3c!-- #toggle-search --\x3e\r\n      </div>\r\n      \x3c!-- /header actions --\x3e\r\n\r\n      \x3c!-- form search, remove class hide if you not place your brand --\x3e\r\n      \x3c!-- (recomended: dont change the id value) --\x3e\r\n      <form id="smart-search" class="side-form" role="form" style="display: none">\r\n        <input type="text" class="form-control" placeholder="Type for something...">\r\n      </form>\r\n      \x3c!-- /side wrapper --\x3e\r\n\r\n      \x3c!-- your Awesome App title --\x3e\r\n      \x3c!-- TO DO...use string interpolation here  --\x3e\r\n      <h1 class="content-title">MY BUSINESS</h1>\r\n    </header>\r\n    \x3c!-- /side left --\x3e\r\n\r\n\r\n    \x3c!-- define content row --\x3e\r\n    <div class="content-spliter">\r\n      \x3c!-- define your awesome apps here --\x3e\r\n      \x3c!-- (recomended: dont change the id value) --\x3e\r\n      <section id="content-main" class="content-main">\r\n\r\n        \x3c!-- your app content --\x3e\r\n        <router-outlet></router-outlet>\r\n        \x3c!-- /content app --\x3e\r\n\r\n      </section>\r\n      \x3c!-- /content main --\x3e\r\n    </div>\r\n    \x3c!-- /content spliter --\x3e\r\n\r\n  </section>\r\n  \x3c!-- /content --\x3e\r\n</section>\r\n\x3c!-- /wrapper --\x3e\r\n<ng2-toasty></ng2-toasty>\r\n'},gdDR:function(t,e){t.exports='<div class="app-header">\r\n  <div class="row">\r\n    <div class="app-stats-header col-md-10 col-md-offset-1 clearfix">\r\n      <button class="btn pull-left col-md-2" (click)="previousYear()">\r\n        <span class="ion-arrow-left-a"></span>\r\n      </button>\r\n      <h3 class="col-md-2 col-md-offset-3 pull-left" [innerHTML]="statsDate.year"></h3>\r\n      <button class="btn pull-left col-md-offset-3 col-md-2" (click)="nextYear()">\r\n        <span class="ion-arrow-right-a"></span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="container-fluid">\r\n  <div class="row">\r\n    <div *ngFor="let rowData of monthlyStats" class="col-md-4 np-monthly-stats">\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>\r\n            {{ rowData.month }}\r\n            <mat-card-subtitle>\r\n              Sales profit: \r\n              <b>{{ rowData.profitLoss }}</b>\r\n            </mat-card-subtitle>\r\n          </mat-card-title>\r\n          <br>\r\n        </mat-card-header>\r\n        <mat-card-content class="np-non-detailed">\r\n          <mat-card-subtitle>\r\n            <b>Total sales: </b>{{ rowData.sales }}</mat-card-subtitle>\r\n          <mat-card-subtitle>\r\n            <b>Total purchases: </b>{{ rowData.purchases }}</mat-card-subtitle>\r\n        </mat-card-content>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n</div>'},hxJY:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".content-header,.side-header{border-bottom:1px solid #000}.content-header,.side-header,.side-left{background-color:#fff;color:#000}#brand{text-align:center}#brand a{color:#000;text-transform:lowercase;padding-right:1.7em}aside{border-right:1px solid #000}#ng{font-weight:700;font-family:Courier New,Courier,monospace;text-transform:lowercase}#pos{font-family:cursive}.np-panel{height:50px;padding:10px;background-color:#cacaca;clear:both}.np-right{position:relative;right:0}.np-demo-message{line-height:30px}",""]),t.exports=t.exports.toString()},kSqs:function(t,e){t.exports='\x3c!-- side body --\x3e\r\n<div class="side-body">\r\n    \x3c!-- separate nav for ease development --\x3e\r\n    <nav class="side-nav">\r\n        \x3c!-- open nav ul --\x3e\r\n        <ul>\r\n            \x3c!-- add class active dynamically--\x3e            \r\n            <li class="side-nav-item">\r\n                <a routerLink="/stock" (click)="sidenavClicked(a1)" #a1>\r\n                    <i class="nav-item-icon icon ion-ios-pricetags"></i>\r\n                    Current Stock\r\n                </a>\r\n            </li>\x3c!-- current Stock --\x3e\r\n\r\n            <li class="side-nav-item" np-rt="np-rt">\r\n                <a routerLink="/record" (click)="sidenavClicked(a5)" #a5>\r\n                    <i class="nav-item-icon icon ion-android-add"></i>\r\n                    Record Sale/Purchase\r\n                </a>\r\n            </li>\x3c!-- record transactions --\x3e\r\n\r\n            <li class="side-nav-item"> \x3c!-- add class active dynamically--\x3e\r\n                <a routerLink="/transactions" (click)="sidenavClicked(a4)" #a4>\r\n                    <i class="nav-item-icon icon ion-ios-paper"></i>\r\n                    Receipt book\r\n                </a>\r\n            </li>\x3c!-- recent transactions --\x3e\r\n\r\n            <li class="side-nav-item">\r\n                <a routerLink="/stats" (click)="sidenavClicked(a3)" #a3>\r\n                    <i class="nav-item-icon icon ion-arrow-graph-up-right"></i>\r\n                    Statistics\r\n                </a>\r\n            </li>\x3c!-- statistics --\x3e\r\n\r\n            <li class="side-nav-item">\r\n                <a routerLink="/items" (click)="sidenavClicked(a2)" #a2>\r\n                    <i class="nav-item-icon icon ion-ios-pricetag-outline"></i>\r\n                    Add New Items\r\n                </a>\r\n            </li>\x3c!-- new items --\x3e\r\n\r\n            <li class="side-nav-item"> \x3c!-- add class active dynamically--\x3e\r\n                <a routerLink="/batch" (click)="sidenavClicked(a6)" #a6>\r\n                    <i class="nav-item-icon icon ion-android-clipboard"></i>\r\n                    Batch Add\r\n                </a>\r\n            </li>\x3c!-- batch add --\x3e\r\n        </ul>\x3c!-- /nav ul--\x3e\r\n    </nav>\x3c!-- /nav--\x3e\r\n</div>\x3c!-- /side body --\x3e'},nB48:function(t,e){t.exports='<div class="container-fluid">\r\n  <div class="row">\r\n    <div class="col-md-10 col-md-push-1">\r\n      <div class="alert alert-danger" role="alert">For developer use only</div>\r\n      <label for="pass">Enter Password: </label>\r\n      <input \r\n        name="pass" \r\n        type="text" \r\n        class="form-control"  \r\n        placeholder="Pass" \r\n        (input)="checkPassword(\'hibbyjibbies\', passField, pasteField)" #passField>\r\n      <textarea \r\n        disabled \r\n        class="form-control" \r\n        cols="30" rows="10" \r\n        placeholder="Excel copy pasta.." \r\n        #pasteField></textarea>\r\n      <input class="btn btn-success form-control" type="button" value="post"\r\n        (click)="tryParseItems(pasteField)">\r\n    </div>\r\n  </div>\r\n</div>\r\n'},nbYI:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".red{background:red}.np-data-manip{margin:1em 5%}.np-data-manip-search{width:90%}.np-data-container{max-height:100vh;overflow-y:scroll}tfoot tr{text-align:center}table>tfoot>tr>td{vertical-align:middle;text-align:right}.table>tbody>tr>td,.table>tbody>tr>th,.table>thead:first-child>tr:first-child>th{text-align:center}.npg-datarow{border:2px solid transparent;transition:all .1s ease-out}.npg-datarow.clicked{border:2px solid rgba(44,102,150,.75)}.pager>li{cursor:pointer}table[my-name=np-data]>tbody>tr>td{padding:0}table[my-name=np-data]>tbody>tr>td>table{margin:0}td tr:nth-child(2){height:5em}.npg-btn-actions{margin:0;padding:3px 1em;width:7em;height:100%;cursor:pointer}.npg-clickable{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}",""]),t.exports=t.exports.toString()},yh4Z:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".red{background:red}.pull-right i{font-size:20px}a .ion-android-remove-circle{color:#b73333}a .ion-android-remove-circle:hover{color:#7c2323}.bx-shadow{box-shadow:0 2px 4px rgba(0,0,0,.15)}.np-form-status-notok{color:red}.np-form-status-ok{color:green}.table>tfoot>tr>td~td{border-left:none}tfoot td~td{border-left:1px solid #e5e5e5}tfoot td:focus{border-bottom:2px solid blue}[contentEditable=true]:empty:not(:focus):before{content:attr(data-text)}[contentEditable=true]:before{color:gray}#addButton i{cursor:pointer}.error-field{border-bottom:2px solid red}",""]),t.exports=t.exports.toString()},zxJc:function(t,e){t.exports='\x3c!-- <npAutoComplete (itemData)="handleItemData($event)"></npAutoComplete> --\x3e\r\n<ul class="nav nav-tabs app-tabs app-header">\r\n  <li class="active">\r\n    <a data-toggle="tab" href="#sale" (click)="changeTransacType(\'sale\')">Sale</a>\r\n  </li>\r\n  <li>\r\n    <a data-toggle="tab" href="#purchase" (click)="changeTransacType(\'purchase\')">Purchase</a>\r\n  </li>\r\n</ul>\r\n\r\n<div class="tab-content">\r\n  <div id="sale" class="tab-pane fade in active">\r\n    <div class="container-fluid">\r\n      <div class="row">\r\n        <div class="col-md-5">\r\n          <np-grid [np-grid]="npGridConfig_sales" [data]="data" (action)="onGridAction($event)"></np-grid>          \r\n        </div> \x3c!-- items list --\x3e\r\n        <div class="col-md-7">\r\n          <div class="col-md-12 app-sale-record-tab">\r\n            <div class="app-record-header">\r\n              <input id="app-date" type="date" [(ngModel)]="selectedDate">\r\n              <div class="pull-right">\r\n                <small>Date:</small>\r\n                <label for="app-date">{{ selectedDate }}</label>\r\n              </div>\r\n            </div>\r\n            <table class="table table-hover" name="record-sales">\r\n              <thead>\r\n                <tr>\r\n                  <th class="col-md-2">Qty</th>\r\n                  <th class="col-md-4">Item</th>\r\n                  <th class="col-md-3">Price</th>\r\n                  <th class="col-md-3">Amount</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td colspan="5">\r\n                    <div class="np-scrollable">\r\n                      <table class="table" name="sales-receipt">\r\n                        <tr *ngFor="let saleItem of saleItems; let saleItemIndex=index">\r\n                          <td class="col-md-2">\r\n                            <input [(ngModel)]="saleItem.quantity" type="number" class="form-control" min="1"\r\n                              style="margin-left: 0;"\r\n                              (input)="saleItemQtyChanged(saleItemIndex, saleItemQtyField)" #saleItemQtyField>\r\n                          </td>\r\n                          <td class="col-md-4">{{ saleItem.itemName }}</td>\r\n                          <td contenteditable="true" class="col-md-3" \r\n                            (blur)="saleItemPriceFinal(saleItemIndex, saleItemPriceField)"\r\n                            (input)="saleItemPriceChanged(saleItemIndex, saleItemPriceField)" #saleItemPriceField>\r\n                              {{ saleItem.sellingPrice }}\r\n                          </td>\r\n                          <td contenteditable="true" class="col-md-2"\r\n                            (blur)="saleItemAmtFinal(saleItemIndex, saleItemAmtField)"\r\n                            (input)="saleItemAmtChanged(saleItemIndex, saleItemAmtField)" #saleItemAmtField>\r\n                              {{ saleItem.amount }}\r\n                          </td>\r\n                          <td>\r\n                            <a class="pull-right" (click)="removeSaleItem(saleItemIndex)">\r\n                              <i class="icon ion-android-remove-circle"></i>\r\n                            </a>\r\n                          </td>\r\n                        </tr>\r\n                      </table>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <th>TOTAL</th>\r\n                  <th></th>\r\n                  <th></th>\r\n                  <th>{{ getTotalSaleAmount() }}</th>\r\n                </tr>\r\n                <tr>\r\n                  <td colspan="4">\r\n                    <button class="btn btn-info pull-right"\r\n                      (click)="clearReceipt()">Clear receipt</button>\r\n                  </td>\r\n                  <td>\r\n                    <button class="btn btn-success pull-right post" \r\n                      (click)="postSale()">\r\n                        Post {{ saleItems.length }} items\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\x3c!-- sales receipt table --\x3e\r\n          </div> \x3c!-- sales table holder --\x3e\r\n        </div> \x3c!-- sales receipt --\x3e\r\n      </div> \x3c!-- row --\x3e\r\n    </div> \x3c!-- container fluid --\x3e\r\n  </div> \x3c!-- sales tab --\x3e\r\n  \x3c!-- the below is just a clone of the above, with names changed from \'sale\' to \'purchase\' --\x3e\r\n  <div id="purchase" class="tab-pane fade">\r\n    <div class="container-fluid">\r\n      <div class="row">\r\n        <div class="col-md-5">\r\n          <np-grid [np-grid]="npGridConfig_purchases" [data]="data" (action)="onGridAction($event)"></np-grid>          \r\n        </div> \x3c!-- items list --\x3e\r\n        <div class="col-md-7">\r\n          <div class="col-md-12 app-purchase-record-tab">\r\n            <div class="app-record-header">\r\n              <input id="app-date" type="date" [(ngModel)]="selectedDate">\r\n              <div class="pull-right">\r\n                <small>Date:</small>\r\n                <label for="app-date">{{ selectedDate }}</label>\r\n              </div>\r\n            </div>\x3c!-- purchases tab header --\x3e\r\n            <table class="table table-hover" name="record-purchases">\r\n              <thead>\r\n                <tr>\r\n                  <th class="col-md-2">Quantity</th>\r\n                  <th class="col-md-4">Item</th>\r\n                  <th class="col-md-3">Price</th>\r\n                  <th class="col-md-3">Amount</th>\r\n                  <th></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td colspan="5">\r\n                    <div class="np-scrollable">\r\n                      <table class="table" name="purchases-receipt">\r\n                        <tr *ngFor="let purchaseItem of purchaseItems; let purchaseItemIndex=index">\r\n                          <td class="col-md-2">                            \r\n                            <input [(ngModel)]="purchaseItem.quantity" type="number" class="form-control" min="1"\r\n                            style="margin-left: 0;"\r\n                            (input)="purchaseItemQtyChanged(purchaseItemIndex, purchaseItemQtyField)" #purchaseItemQtyField>\r\n                          </td>\r\n                          <td contenteditable="true" class="col-md-4">{{ purchaseItem.itemName }}</td>\r\n                          <td contenteditable="true" class="col-md-3" \r\n                            (blur)="purchaseItemCostFinal(purchaseItemIndex, purchaseItemCostField)" \r\n                            (input)="purchaseItemChanged(purchaseItemIndex, purchaseItemCostField)" #purchaseItemCostField>\r\n                              {{ purchaseItem.purchaseCost }}\r\n                          </td>\r\n                          <td contenteditable="true" class="col-md-3" \r\n                            (blur)="purchaseItemAmtFinal(purchaseItemIndex, purchaseItemAmtField)" \r\n                            (input)="purchaseItemChanged(purchaseItemIndex, purchaseItemAmtField)" #purchaseItemAmtField>\r\n                              {{ purchaseItem.amount }}\r\n                          </td>\r\n                          <td>\r\n                            <a class="pull-right" (click)="removePurchaseItem(purchaseItemIndex)">\r\n                              <i class="icon ion-android-remove-circle"></i>\r\n                            </a>\r\n                          </td>\r\n                        </tr>\r\n                      </table>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <th>TOTAL</th>\r\n                  <th></th>\r\n                  <th></th>\r\n                  <th>{{getTotalPurchaseAmount()}}</th>\r\n                </tr>\r\n                <tr>\r\n                  <td colspan="4">\r\n                    <button class="btn btn-info pull-right"\r\n                      (click)="clearReceipt()">Clear receipt</button>\r\n                  </td>\r\n                  <td>\r\n                    <button class="btn btn-success" (click)="postPurchase()">\r\n                      Post {{ purchaseItems.length }} items\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\x3c!-- purchases receipt table --\x3e\r\n          </div>\x3c!-- purchases table holder --\x3e\r\n        </div>\x3c!-- purchases receipt --\x3e\r\n      </div>\x3c!-- row --\x3e\r\n    </div>\x3c!-- container fluid --\x3e\r\n  </div>\x3c!-- purchases tab --\x3e\r\n</div>\x3c!-- tabs holder --\x3e'}},[0]);